<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>guias</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/guias/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" data-hid="gf-prefetch" rel="dns-prefetch" href="https://fonts.gstatic.com/"><link data-n-head="ssr" data-hid="gf-preconnect" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link data-n-head="ssr" data-hid="gf-preload" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Material+Icons"><script data-n-head="ssr" data-hid="gf-script">!function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Material+Icons",document.querySelector("head").appendChild(e)}()</script><noscript data-n-head="ssr" data-hid="gf-noscript"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons"></noscript><link rel="preload" href="/guias/_nuxt/c79bba2.js" as="script"><link rel="preload" href="/guias/_nuxt/2492330.js" as="script"><link rel="preload" href="/guias/_nuxt/6f2b76f.js" as="script"><link rel="preload" href="/guias/_nuxt/26f9431.js" as="script"><link rel="preload" href="/guias/_nuxt/2f14160.js" as="script"><style data-vue-ssr-id="6f9fdb80:0 a8238dd2:0 fa7ff0ca:0">html{box-sizing:border-box;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}body,html{margin:0;padding:0}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre,time{margin:0}h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-weight:700}body{min-height:100vh}button{background:0 0;border:0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset{border:0;margin:0;padding:0}iframe{border:0}ul{list-style:none;padding:0}ul li{margin:1em}ul li:before{content:"";width:.5em;height:.5em;display:inline-block;vertical-align:middle;background-color:#2fc1d5;margin-right:.5em;border-radius:30%}img,video{max-width:100%;height:auto}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-weight:400}a,a:link{text-decoration:none}::-moz-selection{background-color:#f3f0ab;color:#000}::selection{background-color:#f3f0ab;color:#000}p{line-height:1.6;margin:1.5em 0}article,h1{margin:1em}h1{text-align:center;font-size:2em}h2{border-bottom:3px solid #623c97;font-size:1.6em;margin-bottom:.3em}h2,h3{padding:.5em 0}h3{border-bottom:1px dotted;font-size:1.3em;margin-bottom:.7em}h4{font-size:1.1em}.title-icon{text-align:center;display:block;font-size:2.2em}.title-icon.non-material{width:1.5em;margin:0 auto}.subtitle-icon{color:#2fc1d5;font-size:1.2em;display:inline-block;vertical-align:middle}.inline-icon{width:32px;height:auto;display:inline-block;vertical-align:bottom;margin:1em .5em 0}table{border-collapse:collapse}th{border:1px solid}td,th{padding:.5em}td{border:1px dotted}.check{display:inline-block;vertical-align:bottom;padding-right:.3em;color:green}.check.no-puede{color:red}.check.puede{color:#767a7d}#tutorial-gds{width:100%;margin:0;height:80vh}blockquote{background-color:#ddd;font-size:.8em}blockquote p{padding:1em}.iframe-container{position:relative;overflow:hidden;width:100%;padding-top:56.25%}.iframe-container iframe{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.video-container{position:relative;overflow:hidden;padding-top:56.25%;height:0}.video-container iframe{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.historia{font-size:1.2em;background-color:rgba(231,224,87,.71373);font-weight:700;padding:1em;margin:1em 3em;color:#3c6da5}#api{background-color:#353e50;color:#fff;padding:1em}#api,#api .icono{display:inline-block}#api .icono{vertical-align:middle;margin:5px;text-align:center}#api .icono p{margin:0;max-width:80px;line-height:1}#api .material-icons{font-size:2.2em;color:#d4dcec}#api .material-icons.servicio{font-size:3em;color:#cddfe7}#api .texto{border:1px solid #ecebca;padding:.5em;border-radius:5px}.proyecto{width:33%;padding:1em;border:1px dotted #0b4b80;display:inline-block;border-radius:20px;vertical-align:top;margin:1em 0}.proyecto .descripcion{font-size:.8em}code[class*=language-],pre[class*=language-]{color:#e3eaf2;background:0 0;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#3c526d}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#3c526d}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#111b27}:not(pre)>code[class*=language-]{padding:.1em .3em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8da1b9}.token.punctuation{color:#e3eaf2}.token.delimiter.important,.token.selector .parent,.token.tag,.token.tag .token.punctuation{color:#6cc}.token.attr-name,.token.boolean,.token.boolean.important,.token.constant,.token.number,.token.selector .token.attribute{color:#e6d37a}.token.class-name,.token.key,.token.parameter,.token.property,.token.property-access,.token.variable{color:#6cb8e6}.token.attr-value,.token.color,.token.inserted,.token.selector .token.value,.token.string,.token.string .token.url-link{color:#91d076}.token.builtin,.token.keyword-array,.token.package,.token.regex{color:#f4adf4}.token.function,.token.selector .token.class,.token.selector .token.id{color:#c699e3}.token.atrule .token.rule,.token.combinator,.token.keyword,.token.operator,.token.pseudo-class,.token.pseudo-element,.token.selector,.token.unit{color:#e9ae7e}.token.deleted,.token.important{color:#cd6660}.token.keyword-this,.token.this{color:#6cb8e6}.token.bold,.token.important,.token.keyword-this,.token.this{font-weight:700}.token.delimiter.important{font-weight:inherit}.token.italic{font-style:italic}.token.entity{cursor:help}.language-markdown .token.title,.language-markdown .token.title .token.punctuation{color:#6cb8e6;font-weight:700}.language-markdown .token.blockquote.punctuation{color:#f4adf4}.language-markdown .token.code{color:#6cc}.language-markdown .token.hr.punctuation{color:#6cb8e6}.language-markdown .token.url .token.content{color:#91d076}.language-markdown .token.url-link{color:#e6d37a}.language-markdown .token.list.punctuation{color:#f4adf4}.language-json .token.operator,.language-markdown .token.table-header{color:#e3eaf2}.language-scss .token.variable{color:#6cc}.token.token.cr:before,.token.token.lf:before,.token.token.space:before,.token.token.tab:not(:empty):before{color:#8da1b9}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button{color:#111b27;background:#6cb8e6}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover{color:#111b27;background:rgba(108,184,230,.8549);text-decoration:none}div.code-toolbar>.toolbar.toolbar>.toolbar-item>span,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover{color:#111b27;background:#8da1b9}.line-highlight.line-highlight{background:rgba(60,82,109,.37255);background:linear-gradient(90deg,rgba(60,82,109,.37255) 70%,rgba(60,82,109,.33333))}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background-color:#8da1b9;color:#111b27;box-shadow:0 1px #3c526d}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(141,161,185,.09412)}.line-numbers.line-numbers .line-numbers-rows{border-right:1px solid #0b121b;background:rgba(11,18,27,.47843)}.line-numbers .line-numbers-rows>span:before{color:rgba(141,161,185,.8549)}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:#e6d37a}.rainbow-braces .token.token.punctuation.brace-level-10,.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6{color:#f4adf4}.rainbow-braces .token.token.punctuation.brace-level-11,.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7{color:#6cb8e6}.rainbow-braces .token.token.punctuation.brace-level-12,.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8{color:#c699e3}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:rgba(205,102,96,.12157)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:rgba(145,208,118,.12157)}.command-line .command-line-prompt{border-right:1px solid #0b121b}.command-line .command-line-prompt>span:before{color:rgba(141,161,185,.8549)}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}</style><link rel="preload" href="/guias/_nuxt/static/1708552317/4-1-herramientas-BI/state.js" as="script"><link rel="preload" href="/guias/_nuxt/static/1708552317/4-1-herramientas-BI/payload.js" as="script"><link rel="preload" href="/guias/_nuxt/static/1708552317/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><main><article><h1>Estado de las herramientas BI y su paralelo con código</h1> <div class="nuxt-content"><h2 id="introducción"><a href="#introducci%C3%B3n" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Introducción</h2>
<p>Hasta este momento del curso nos hemos enfocado en la creación de dashboards con herramientas prediseñadas. En particular con <em>Google Data Studio</em>, el cual nos permite:</p>
<ul>
<li>Conectar una base de datos estática con facilidad.</li>
<li>Modelar los datos en una interfaz amigable.</li>
<li>Crear visualizaciones con mínimo esfuerzo.</li>
</ul>
<p>Pero hay dos tipos de problemas comunes con estas herramientas que nos obligan a programar una propia: No podemos conectar nuestra fuente de datos, o el tipo de visualización que quisiéramos usar no está disponible en la galería de gráficas. Incluso en el modelado de datos dentro de <em>Google Data Studio</em>, a veces tenemos que programar scripts para producir una nueva estructura de datos (tal cual lo vimos la semana pasada).</p>
<p>En su vida profesional, idealmente ustedes pueden llegar a ser lo suficientemente versátiles para resolver cualquier problema de visualización y es por lo que esta semana vamos a revisar los principios fundamentales para programar una herramienta propia. Específicamente vamos a crear un dashboard con datos en vivo de los cambios en precio de algunas criptomonedas populares: Bitcoin, Ethereum, Monero y Litecoin. Para eso vamos a usar una fuente de datos gratuita llamada CoinCap (<a href="https://docs.coincap.io/" rel="nofollow noopener noreferrer" target="_blank">https://docs.coincap.io/</a>) la cual ofrece datos en tiempo real por medio de una API. Si quisiéramos trabajar con datos de criptomonedas en <em>Google Data Studio</em>, tendríamos que usar datos históricos, pero vamos a ir un poco más lejos con el desarrollo de una aplicación con datos en vivo.</p>
<p>Para simplificar el proceso y darles insumos para su proyecto final, vamos a usar una de las librerías más populares de visualización de datos en páginas web que se llama D3. Pero antes de entrar al código, vamos a hacer un paralelo entre lo que ya conocen de Google Data Studio y las partes de una aplicación en código.</p>
<h3 id="conectar-datos"><a href="#conectar-datos" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Conectar Datos</h3>
<p>En <em>Google Data Studio</em> ya vimos que la primera opción cuando creamos un reporte es decidir el conector a la fuente de datos. Hemos usado archivos estáticos en .csv y también el de “Google Sheets”. Otras fuentes populares serían “PostgreSQL” o “MySQL”, las cuales deben estar alojadas en algún servidor con el cual hacer la conexión. En todos estos casos, <em>Google Data Studio</em> importa una instancia de los datos y actualiza la fuente al ritmo que definamos en <strong>“Data freshness”</strong>.</p>
<p>Para definir cada cuanto debe actualizar <em>Google Data Studio</em> nuestros datos, van a <strong>“Resources -> Manage added data sources -> EDIT”</strong>. En la parte superior van a ver que por lo general está predeterminado para actualizar cada 15 minutos:</p>
<img src="/guias/vysimgs/refresh-rate.jpg" alt="Refresh Rate">
<blockquote>
<p><strong>Figura 1</strong><br>
<em>Frecuencia con la que Google Data Studio actualiza la fuente de datos</em></p>
</blockquote>
<p>Al seleccionarla, les aparecen diferentes opciones que van desde 15 minutos hasta 12 horas, con la advertencia de que actualizaciones muy frecuentes pueden volver lenta la aplicación o incurrir en altos gastos si nuestro conector es de pago (por ejemplo: BigQuery o Amazon Redshift).</p>
<img src="/guias/vysimgs/opciones-refresh-rate.jpg" alt="Opciones Refresh Rate">
<blockquote>
<p><strong>Figura 2</strong><br>
<em>Opciones de frecuencia para actualizar los datos en Google Data Studio</em></p>
</blockquote>
<p>Esta puede ser una gran limitación considerando el mercado actual de fuentes de datos en internet. Hay una creciente disponibilidad de fuentes, incluso gratuitas, que nos abren espacios de investigación potentes a los profesionales de “Analytics”. Sobre todo, si el fenómeno que estamos estudiando cambia constantemente. Consideren por ejemplo los datos de redes sociales, sensores, mercados de valores o criptomonedas, los cuales contienen información que está cambiando constantemente, cada segundo incluso (muy por encima de los 15 minutos que nos permite <em>Google Data Studio</em>).</p>

<p>En estos casos, se vuelve necesario acudir a las fuentes de datos a medida que van cambiando por medio de APIs. API o Aplication Programming Interface (Interfaz de Programación de Aplicaciones) es, como su nombre lo indica, una interfaz que permite conectar una aplicación con otra por medio de la programación. La siguiente gráfica resume la forma como conectamos nuestras aplicaciones propias a una fuente de datos por medio de una API:</p>
<img src="/guias/vysimgs/api.jpg" alt="API">
<blockquote>
<p><strong>Figura 3</strong><br>
<em>¿Qué es una API?</em></p>
</blockquote>
<p>Una API tiene acceso exclusivo a una base de datos por medio de un servicio web. Nosotros, desde nuestra aplicación, únicamente tenemos acceso a las partes de la base de datos que la API nos ofrece por medio de su interfaz programable. La API puede ofrecer dos tipos de protocolos para hacer la transferencia de los datos: <strong>RESTful API</strong> o <strong>WebSockets</strong>. La diferencia principal es que en RESTful tenemos que pedir los datos en el momento que los necesitamos, mientras que con WebSockets, la API nos va mandando nuevos datos a medida que se vuelven disponibles.</p>
<h3 id="restful-api"><a href="#restful-api" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>RESTful API</h3>
<p>Los RESTful son útiles cuando necesitamos unos datos en específico, por ejemplo, datos de contexto o que no cambian con tanta frecuencia. Veamos por ejemplo cómo pedir una lista de criptomonedas (con sus metadatos) a la API CoinCap. En JavaScript podemos usar la función nativa <code>fetch()</code> para esto:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token comment">// La función fetch recibe como parámetro una URL que contiene nuestra petición</span>
<span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.coincap.io/v2/assets'</span><span class="token punctuation">)</span>
  <span class="token comment">// fetch() es una función asincrónica pues no sabemos cuánto se demoran los datos en volver.</span>
  <span class="token comment">// El método then() espera la respuesta y ejecuta la función que pasamos como parámetro:</span>
  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">respuesta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Las API envían los datos en bloques de texto que debemos interpretar. Casi siempre ese bloque de texto representa unos datos en formato JSON.</span>
    <span class="token comment">// La respuesta del servidor tiene un método que hace esta conversión de texto (string) a JSON.</span>
    <span class="token keyword control-flow">return</span> respuesta<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// Cuando termina de convertir el texto a JSON, ya tenemos nuestros datos listos para usar en nuestra aplicación.</span>
  <span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">datos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ¡Listo! tenemos datos en la aplicación :)</span>
    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>datos<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Para hacer un paralelo con <em>Google Data Studio</em>, cuando decimos en la programación:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://api.coincap.io/v2/assets'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Es igual a elegir el conector a la fuente de datos cuando creamos un nuevo reporte ("File Upload", "Google Sheets", etc.):</p>
<img src="/guias/vysimgs/gds-fuentes-datos.jpg" alt="Fuentes de datos">
<blockquote>
<p><strong>Figura 4</strong><br>
<em>Fuentes de datos en Google Data Studio</em></p>
</blockquote>
<p>Luego, cuando decimos:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">respuesta</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword control-flow">return</span> respuesta<span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div>
<p>Es lo que hace <em>Google Data Studio</em> cuando define nuestras variables iniciales estructuradamente:</p>
<img src="/guias/vysimgs/modelado-source.jpg" alt="Fuentes de datos">
<blockquote>
<p><strong>Figura 5</strong><br>
<em>Variables disponibles en la fuente de datos dentro de Google Data Studio</em></p>
</blockquote>
<p>La última parte del código:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">datos</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>datos<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Es donde podemos procesar, modelar y visualizar los datos. Por ejemplo, los datos que nos llegan de <em>CoinCap</em> con esta petición se ven así en formato JSON:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-json"><code><span class="token punctuation">{</span>
<span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"bitcoin"</span><span class="token punctuation">,</span>
  <span class="token property">"rank"</span><span class="token operator">:</span> <span class="token string">"1"</span><span class="token punctuation">,</span>
  <span class="token property">"symbol"</span><span class="token operator">:</span> <span class="token string">"BTC"</span><span class="token punctuation">,</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Bitcoin"</span><span class="token punctuation">,</span>
  <span class="token property">"supply"</span><span class="token operator">:</span> <span class="token string">"18951743.0000000000000000"</span><span class="token punctuation">,</span>
  <span class="token property">"maxSupply"</span><span class="token operator">:</span> <span class="token string">"21000000.0000000000000000"</span><span class="token punctuation">,</span>
  <span class="token property">"marketCapUsd"</span><span class="token operator">:</span> <span class="token string">"839966409696.2923833657177708"</span><span class="token punctuation">,</span>
  <span class="token property">"volumeUsd24Hr"</span><span class="token operator">:</span> <span class="token string">"15244239444.1089104089268283"</span><span class="token punctuation">,</span>
  <span class="token property">"priceUsd"</span><span class="token operator">:</span> <span class="token string">"44321.3275790143620756"</span><span class="token punctuation">,</span>
  <span class="token property">"changePercent24Hr"</span><span class="token operator">:</span> <span class="token string">"3.4617717617476872"</span><span class="token punctuation">,</span>
  <span class="token property">"vwap24Hr"</span><span class="token operator">:</span> <span class="token string">"43471.5923631324538537"</span><span class="token punctuation">,</span>
  <span class="token property">"explorer"</span><span class="token operator">:</span> <span class="token string">"https://blockchain.info/"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"ethereum"</span><span class="token punctuation">,</span>
  <span class="token property">"rank"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>
  <span class="token property">"symbol"</span><span class="token operator">:</span> <span class="token string">"ETH"</span><span class="token punctuation">,</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Ethereum"</span><span class="token punctuation">,</span>
  <span class="token property">"supply"</span><span class="token operator">:</span> <span class="token string">"119490782.6240000000000000"</span><span class="token punctuation">,</span>
  <span class="token property">"maxSupply"</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
  <span class="token property">"marketCapUsd"</span><span class="token operator">:</span> <span class="token string">"377350905855.5371618621227082"</span><span class="token punctuation">,</span>
  <span class="token property">"volumeUsd24Hr"</span><span class="token operator">:</span> <span class="token string">"9735280903.0386220208339932"</span><span class="token punctuation">,</span>
  <span class="token property">"priceUsd"</span><span class="token operator">:</span> <span class="token string">"3157.9917510703905946"</span><span class="token punctuation">,</span>
  <span class="token property">"changePercent24Hr"</span><span class="token operator">:</span> <span class="token string">"2.5142105047782295"</span><span class="token punctuation">,</span>
  <span class="token property">"vwap24Hr"</span><span class="token operator">:</span> <span class="token string">"3122.9230499003399223"</span><span class="token punctuation">,</span>
  <span class="token property">"explorer"</span><span class="token operator">:</span> <span class="token string">"https://etherscan.io/"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">]</span>
</code></pre></div>
<h3 id="websockets"><a href="#websockets" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>WebSockets</h3>
<p>Mientras que con RESTful hacemos peticiones a la API para que nos envíe datos, con WebSockets lo que pedimos es abrir un canal de comunicación entre la API y nuestra aplicación. Este protocolo es muy liviano y se usa normalmente en aplicaciones de tiempo-real como un chat, actualizaciones pequeñas a una interfaz, o en nuestro caso, para recibir cambios de precio en criptomonedas. Veamos cómo se ve esto en JavaScript:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-js"><code><span class="token comment">// El explorador (Chrome, Firefox, etc.) abre el canal de comunicación (o Socket) con la API.</span>
<span class="token comment">// Pueden ver la documentación de la API en: https://docs.coincap.io/#37dcec0b-1f7b-4d98-b152-0217a6798058</span>
<span class="token keyword">var</span> preciosEndPoint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebSocket</span><span class="token punctuation">(</span><span class="token string">'wss://ws.coincap.io/prices?assets=bitcoin,ethereum,monero,litecoin'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Como no sabemos cuándo van a llegar los datos, creamos un evento (Event en JavaScript) para que ejecute una función cuando lleguen mensajes por el Socket.</span>
preciosEndPoint<span class="token punctuation">.</span><span class="token method-variable function-variable method function property-access">onmessage</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">mensaje</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Al igual que en RESTful, los datos llegan en formato texto y debemos convertirlos a JSON.</span>
  <span class="token keyword">var</span> mensajeJson <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>mensaje<span class="token punctuation">.</span><span class="token property-access">data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ¡Listo! ya tenemos datos, podemos procesarlos y visualizarlos.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Con WebSockets, los datos llegan de la API a una frecuencia indeterminada, en nuestro caso llegan cuando se produce un cambio de precio en alguna de las criptomonedas que registramos al crear el WebSocket <code>new Websocket(....assets=bitcoin,ethereum,monero,litecoin)</code>, que como van a ver más adelante, oscila entre 1 y 15 segundos.</p>
<h2 id="conclusión"><a href="#conclusi%C3%B3n" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Conclusión</h2>
<p>Mientras que en <em>Google Data Studio</em> trabajamos principalmente con datos estáticos, con programación podemos aprovechar las APIs para crear aplicaciones que pueden usar datos estáticos (con RESTful) o datos en tiempo real (con WebSockets). Hasta ahora vimos las bases de cómo conectar la fuente de datos a una aplicación en JavaScript, en el siguiente tutorial vamos a construir una aplicación completa usando la API de <em>CoinCap</em>.</p></div></article></main></div></div><script defer src="/guias/_nuxt/static/1708552317/4-1-herramientas-BI/state.js"></script><script src="/guias/_nuxt/c79bba2.js" defer></script><script src="/guias/_nuxt/2f14160.js" defer></script><script src="/guias/_nuxt/2492330.js" defer></script><script src="/guias/_nuxt/6f2b76f.js" defer></script><script src="/guias/_nuxt/26f9431.js" defer></script>
  </body>
</html>
