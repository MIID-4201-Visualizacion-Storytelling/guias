<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>guias</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/guias/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" data-hid="gf-prefetch" rel="dns-prefetch" href="https://fonts.gstatic.com/"><link data-n-head="ssr" data-hid="gf-preconnect" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link data-n-head="ssr" data-hid="gf-preload" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Material+Icons"><script data-n-head="ssr" data-hid="gf-script">!function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Material+Icons",document.querySelector("head").appendChild(e)}()</script><noscript data-n-head="ssr" data-hid="gf-noscript"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons"></noscript><link rel="preload" href="/guias/_nuxt/e4e0633.js" as="script"><link rel="preload" href="/guias/_nuxt/ec44050.js" as="script"><link rel="preload" href="/guias/_nuxt/aedbf23.js" as="script"><link rel="preload" href="/guias/_nuxt/9914881.js" as="script"><link rel="preload" href="/guias/_nuxt/a6da342.js" as="script"><style data-vue-ssr-id="6f9fdb80:0 a8238dd2:0 fa7ff0ca:0">html{box-sizing:border-box;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}body,html{margin:0;padding:0}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre,time{margin:0}h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-weight:700}body{min-height:100vh}button{background:0 0;border:0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset{border:0;margin:0;padding:0}iframe{border:0}ul{list-style:none;padding:0}ul li{margin:1em 0}ul li:before{content:"";width:.5em;height:.5em;display:inline-block;vertical-align:middle;background-color:#2fc1d5;margin-right:.5em;border-radius:30%}img,video{max-width:100%;height:auto}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-weight:400}a,a:link{text-decoration:none}::-moz-selection{background-color:#f3f0ab;color:#000}::selection{background-color:#f3f0ab;color:#000}p{line-height:1.6;margin:1.5em 0}article,h1{margin:1em}h1{text-align:center;font-size:2em}h2{border-bottom:3px solid #623c97;padding-bottom:.5em;font-size:1.6em;margin-bottom:.3em}h3{border-bottom:1px dotted;padding:.5em 0;font-size:1.3em;margin-bottom:.7em}h4{font-size:1.1em}.title-icon{text-align:center;display:block;font-size:2.2em}.title-icon.non-material{width:1.5em;margin:0 auto}.subtitle-icon{color:#2fc1d5;font-size:1.2em;display:inline-block;vertical-align:middle}.inline-icon{width:32px;height:auto;display:inline-block;vertical-align:bottom;margin:1em .5em 0}table{border-collapse:collapse}th{border:1px solid}td,th{padding:.5em}td{border:1px dotted}.check{display:inline-block;vertical-align:bottom;padding-right:.3em;color:green}.check.no-puede{color:red}.check.puede{color:#767a7d}#tutorial-gds{width:100%;margin:0;height:80vh}blockquote{background-color:#ddd;font-size:.8em}blockquote p{padding:1em}.iframe-container{position:relative;overflow:hidden;width:100%;padding-top:66.66%}.iframe-container iframe{position:absolute;top:0;left:0;bottom:0;right:0;width:100%;height:100%}.historia{font-size:1.2em;background-color:rgba(231,224,87,.71373);font-weight:700;padding:1em;margin:1em 3em;color:#3c6da5}#api{background-color:#353e50;color:#fff;padding:1em}#api,#api .icono{display:inline-block}#api .icono{vertical-align:middle;margin:5px;text-align:center}#api .icono p{margin:0;max-width:80px;line-height:1}#api .material-icons{font-size:2.2em;color:#d4dcec}#api .material-icons.servicio{font-size:3em;color:#cddfe7}#api .texto{border:1px solid #ecebca;padding:.5em;border-radius:5px}code[class*=language-],pre[class*=language-]{color:#e3eaf2;background:0 0;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{background:#3c526d}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#3c526d}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#111b27}:not(pre)>code[class*=language-]{padding:.1em .3em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8da1b9}.token.punctuation{color:#e3eaf2}.token.delimiter.important,.token.selector .parent,.token.tag,.token.tag .token.punctuation{color:#6cc}.token.attr-name,.token.boolean,.token.boolean.important,.token.constant,.token.number,.token.selector .token.attribute{color:#e6d37a}.token.class-name,.token.key,.token.parameter,.token.property,.token.property-access,.token.variable{color:#6cb8e6}.token.attr-value,.token.color,.token.inserted,.token.selector .token.value,.token.string,.token.string .token.url-link{color:#91d076}.token.builtin,.token.keyword-array,.token.package,.token.regex{color:#f4adf4}.token.function,.token.selector .token.class,.token.selector .token.id{color:#c699e3}.token.atrule .token.rule,.token.combinator,.token.keyword,.token.operator,.token.pseudo-class,.token.pseudo-element,.token.selector,.token.unit{color:#e9ae7e}.token.deleted,.token.important{color:#cd6660}.token.keyword-this,.token.this{color:#6cb8e6}.token.bold,.token.important,.token.keyword-this,.token.this{font-weight:700}.token.delimiter.important{font-weight:inherit}.token.italic{font-style:italic}.token.entity{cursor:help}.language-markdown .token.title,.language-markdown .token.title .token.punctuation{color:#6cb8e6;font-weight:700}.language-markdown .token.blockquote.punctuation{color:#f4adf4}.language-markdown .token.code{color:#6cc}.language-markdown .token.hr.punctuation{color:#6cb8e6}.language-markdown .token.url .token.content{color:#91d076}.language-markdown .token.url-link{color:#e6d37a}.language-markdown .token.list.punctuation{color:#f4adf4}.language-json .token.operator,.language-markdown .token.table-header{color:#e3eaf2}.language-scss .token.variable{color:#6cc}.token.token.cr:before,.token.token.lf:before,.token.token.space:before,.token.token.tab:not(:empty):before{color:#8da1b9}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button{color:#111b27;background:#6cb8e6}div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>button:hover{color:#111b27;background:rgba(108,184,230,.8549);text-decoration:none}div.code-toolbar>.toolbar.toolbar>.toolbar-item>span,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar.toolbar>.toolbar-item>span:hover{color:#111b27;background:#8da1b9}.line-highlight.line-highlight{background:rgba(60,82,109,.37255);background:linear-gradient(90deg,rgba(60,82,109,.37255) 70%,rgba(60,82,109,.33333))}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background-color:#8da1b9;color:#111b27;box-shadow:0 1px #3c526d}pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows>span:hover:before{background-color:rgba(141,161,185,.09412)}.line-numbers.line-numbers .line-numbers-rows{border-right:1px solid #0b121b;background:rgba(11,18,27,.47843)}.line-numbers .line-numbers-rows>span:before{color:rgba(141,161,185,.8549)}.rainbow-braces .token.token.punctuation.brace-level-1,.rainbow-braces .token.token.punctuation.brace-level-5,.rainbow-braces .token.token.punctuation.brace-level-9{color:#e6d37a}.rainbow-braces .token.token.punctuation.brace-level-10,.rainbow-braces .token.token.punctuation.brace-level-2,.rainbow-braces .token.token.punctuation.brace-level-6{color:#f4adf4}.rainbow-braces .token.token.punctuation.brace-level-11,.rainbow-braces .token.token.punctuation.brace-level-3,.rainbow-braces .token.token.punctuation.brace-level-7{color:#6cb8e6}.rainbow-braces .token.token.punctuation.brace-level-12,.rainbow-braces .token.token.punctuation.brace-level-4,.rainbow-braces .token.token.punctuation.brace-level-8{color:#c699e3}pre.diff-highlight>code .token.token.deleted:not(.prefix),pre>code.diff-highlight .token.token.deleted:not(.prefix){background-color:rgba(205,102,96,.12157)}pre.diff-highlight>code .token.token.inserted:not(.prefix),pre>code.diff-highlight .token.token.inserted:not(.prefix){background-color:rgba(145,208,118,.12157)}.command-line .command-line-prompt{border-right:1px solid #0b121b}.command-line .command-line-prompt>span:before{color:rgba(141,161,185,.8549)}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}</style><link rel="preload" href="/guias/_nuxt/static/1644435924/3-2-filtrar-minar/state.js" as="script"><link rel="preload" href="/guias/_nuxt/static/1644435924/3-2-filtrar-minar/payload.js" as="script"><link rel="preload" href="/guias/_nuxt/static/1644435924/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><main><article><h1>Filtrar y Minar</h1> <div class="nuxt-content"><h2 id="introducción"><a href="#introducci%C3%B3n" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Introducción</h2>
<p>En el tutorial anterior hicimos el trabajo inicial de definir los tipos de datos en las variables e identificamos datos que tenían errores para limpiarlos. Pero a medida que vamos reconociendo mejor la estructura original de los datos, es importante preguntarse si esa estructura que tiene la base de datos original es suficiente para nosotros. ¿Hay preguntas que le podemos hacer a la base de datos pero no podemos visualizar?</p>
<p>Consideremos un ejemplo: tal cual están los datos, cada participante ingresa su salario en la moneda de su país. Esto nos permite comparar salarios de las diferentes profesiones de manera local, pero ¿qué pasa si quisiéramos comparar esos salarios de manera global? Sin manipular los datos tendríamos que acompañar nuestras visualizaciones con textos complejos y pedirle a nuestra audiencia que haga la conversión de moneda por su propia cuenta (difícil incluso si las visualizaciones son para nosotros mismos). Pero al ser la conversión de monedas una operación matemática sencilla, podemos investigar este problema creando nuevas variables que de manera anticipada hagan esta conversión. Es decir, diseñamos una nueva estructura sobre los datos existentes para explorar nuestras inquietudes.</p>
<p>El proceso de filtrar los datos es un proceso intelectual en el que atendemos nuestras preguntas al eliminar variables que consideramos irrelevantes y creamos nuevas a partir de las que ya existen. Todas las bases de datos contienen información en potencia, pero no siempre podemos acceder a ellas de manera inmediata. El modelado de datos define entonces qué información volvemos disponible a la visualización y storytelling y qué información dejamos a un lado. Esto hace parte del proceso de minar los datos, que en síntesis significa extraer la información realmente importante de una fuente de datos crudos (raw data). En el tutorial anterior preparamos los datos crudos para ser utilizados en una aplicación de visualización, pero realmente las decisiones conceptuales del modelado suceden al filtrar y minar esos datos.</p>
<h3 id="ejercicio"><a href="#ejercicio" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Ejercicio</h3>
<p>Para atender la pregunta que formulaba antes -¿qué pasa si quisiéramos comparar esos salarios de manera global?- tenemos que decidir una sola moneda base. En el siguiente ejercicio vamos a convertir el salario anual (<em>Annual Salary</em>) a pesos colombianos. Primero tenemos que revisar la moneda que describe cada <em>Annual Salary</em> usando la variable <em>Currency</em> y multiplicamos el valor de <em>Annual Salary</em> por la tasa de cambio (TRM).</p>
<p>Si se sienten cómodos creando fórmulas en Excel, pueden crear una nueva columna directamente en la base de datos. Acá les voy a mostrar cómo crear una nueva variable desde <em>Google Data Studio</em>:</p>
<p>Seleccionan <strong>“ADD A FIELD”</strong>, luego le dan un nombre a su variable, en mi caso la voy a llamar “Salarios (pesos colombianos)” y agregamos la fórmula para nuestro nuevo campo usando la condicional <code>CASE</code> (pueden leer más sobre las posibles condicionales en <a href="https://support.google.com/datastudio/topic/10490726?hl=en&ref_topic=7019880" rel="nofollow noopener noreferrer" target="_blank">https://support.google.com/datastudio/topic/10490726?hl=en&ref_topic=7019880</a>):</p>
<div class="nuxt-content-highlight"><pre class="language-sql line-numbers"><code><span class="token keyword">CASE</span>
  <span class="token keyword">WHEN</span> Currency <span class="token operator">=</span> <span class="token string">"USD"</span> <span class="token keyword">THEN</span> Annual salary <span class="token operator">*</span> <span class="token number">3956.54</span>
  <span class="token keyword">WHEN</span> Currency <span class="token operator">=</span> <span class="token string">"CAD"</span> <span class="token keyword">THEN</span> Annual salary <span class="token operator">*</span> <span class="token number">3101.64</span>
  <span class="token keyword">WHEN</span> Currency <span class="token operator">=</span> <span class="token string">"GBP"</span> <span class="token keyword">THEN</span> Annual salary <span class="token operator">*</span> <span class="token number">5356.28</span>
  <span class="token keyword">WHEN</span> Currency <span class="token operator">=</span> <span class="token string">"EUR"</span> <span class="token keyword">THEN</span> Annual salary <span class="token operator">*</span> <span class="token number">4529.90</span>
  <span class="token keyword">WHEN</span> Currency <span class="token operator">=</span> <span class="token string">"AUD/NZD"</span> <span class="token keyword">THEN</span> Annual salary <span class="token operator">*</span> <span class="token number">2797.49</span>
  <span class="token keyword">WHEN</span> Currency <span class="token operator">=</span> <span class="token string">"Other"</span> <span class="token operator">AND</span> Currency <span class="token operator">-</span> other <span class="token operator">=</span> <span class="token string">"USD"</span> <span class="token keyword">THEN</span> Annual salary <span class="token operator">*</span> <span class="token number">3956.54</span>
  <span class="token keyword">ELSE</span> Salario anual
<span class="token keyword">END</span>
</code></pre></div>
<p>La fórmula en este caso hace lo siguiente:</p>
<ul>
<li>Primero revisa el tipo de moneda <code>WHEN Currency = “…”</code></li>
<li>Si es verdadero, multiplica el valor de <code>Anunal salary</code> por la tasa TRM <em>(valores extraídos manualmente de <a href="https://www.xe.com/currencyconverter/" target="_blank">Xe Live Exchange Rates</a>)</em> a pesos colombianos <code>THEN Annual salary * {TRM}</code>.</li>
</ul>
<p>La fórmula anterior no contiene todas la monedas que se encuentran en la base de datos, y ustedes deben completar el resto. Acá les dejo la lista completa: <strong>USD, CAD, GBP, EUR, AUD/NZD, CHF, SEK, JPY, ZAR, HKD, <em>Other</em></strong>. Para este ejercicio pueden omitir los de <em>Other</em> para que no se queden mucho tiempo creando esta fórmula, pero si la quieren hacer, pueden replicar la última parte de la fórmula:</p>
<div class="nuxt-content-highlight"><pre class="language-sql line-numbers"><code><span class="token keyword">WHEN</span> Currency <span class="token operator">=</span> <span class="token string">"Other"</span> <span class="token operator">AND</span> Currency <span class="token operator">-</span> other <span class="token operator">=</span> <span class="token string">"USD"</span> <span class="token keyword">THEN</span> Annual salary <span class="token operator">*</span> <span class="token number">3956.54</span>
</code></pre></div>
<p>Con esta nueva variable tenemos la posibilidad de producir información nueva que los datos crudos no permitían. Por lo general, estas nuevas variables las creamos para responder preguntas que tenemos sobre los datos y la fuente original no contemplaba.</p>
<h2 id="conclusión"><a href="#conclusi%C3%B3n" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Conclusión</h2>
<p>Como pueden ver, los datos crudos permiten extraer información parcial, mientras que el modelado (a pesar del esfuerzo y trabajo manual) nos permite comenzar a pensar las posibles preguntas que podemos convertir luego en narraciones. Les confieso, a mí me encanta este proceso, me parece una especie de magia o alquimia y es donde se concentra gran parte del pensamiento alrededor de las potencias que tienen los datos para producir nuevas ideas.</p>
<p>El ejercicio de esta semana es una breve introducción a unos conceptos de modelado que van a profundizar en otros cursos de la maestría y a lo largo de sus carreras profesionales. En este curso son necesarias unas nociones básicas para poder llegar a contar historias con los datos, ya que es en el modelado donde se empiezan a formular las preguntas y posibles premisas narrativas.</p></div></article></main></div></div><script defer src="/guias/_nuxt/static/1644435924/3-2-filtrar-minar/state.js"></script><script src="/guias/_nuxt/e4e0633.js" defer></script><script src="/guias/_nuxt/a6da342.js" defer></script><script src="/guias/_nuxt/ec44050.js" defer></script><script src="/guias/_nuxt/aedbf23.js" defer></script><script src="/guias/_nuxt/9914881.js" defer></script>
  </body>
</html>
